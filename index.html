<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
<link rel="icon" href="https://orig00.deviantart.net/7708/f/2014/115/e/4/steins_gate_render_by_bloomsama-d7fw5s6.png">
<body onload = "Load();" id = "bod">
<title>HW Visualizer</title>
<div class="header">
  <h1>
  <img class="a" src="https://2.bp.blogspot.com/-nGWU-D-EVR8/Vt3whJUV7MI/AAAAAAAABLY/EIhmoj8hWyk/s1600/5676e498b319b14f6740e6bb5232cb9b91132fce_hq.gif" alt="OwO"width="120">
  &nbsp;&nbsp;HW Visualizer!!!&nbsp;&nbsp;
  <img class="a" src="https://2.bp.blogspot.com/-nGWU-D-EVR8/Vt3whJUV7MI/AAAAAAAABLY/EIhmoj8hWyk/s1600/5676e498b319b14f6740e6bb5232cb9b91132fce_hq.gif" alt="OwO"width="120">
  </h1>
</div>
<div class="params">
Current session: &nbsp;&nbsp;<input id = 'timerButton' type='button' onclick='ToggleSession();' value='Start' />&nbsp;<i id='sessionTimer'>0:0:0</i><br>
  Textbook:      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current&nbsp;<input class="text" type="text" name="tfirst">&nbsp;Final&nbsp;<input class="text" type="text" name="tlast">&nbsp;<input type='button' onclick='Now(0);' value='Now' /><i class = "date" id='td'></i></input><br>
  Study Guide:   &nbsp;&nbsp;Current&nbsp;<input class="text" type="text" name="sfirst">&nbsp;Final&nbsp;<input class="text" type="text" name="slast">&nbsp;<input type='button' onclick='Now(1);' value='Now' /><i class = "date" id = 'sd'></i></input><br>
  Reading Guide: Current&nbsp;<input class="text" type="text" name="rfirst">&nbsp;Final&nbsp;<input class="text" type="text" name="rlast">&nbsp;<input type='button' onclick='Now(2);' value='Now' /><i class = "date" id = "rd"></i></input><br>				   
  Activities:    &nbsp;&nbsp;&nbsp;Current&nbsp;<input class="text" type="text" name="afirst">&nbsp;Final&nbsp;<input class="text" type="text" name="alast">&nbsp;<input type='button' onclick='Now(3);' value='Now' /><i class = "date" id = 'ad' ></i></input><br>
  Music Theory:    &nbsp;Current&nbsp;<input class="text" type="text" name="mfirst">&nbsp;Final&nbsp;<input class="text" type="text" name="mlast">&nbsp;<input type='button' onclick='Now(4);' value='Now' /><i class = "date" id = 'md'></i></input><br>
  <br>
  <input type='button' onclick='Clear();' value='Clear' />
  <input type='button' onclick='Apply();' value='Apply' />
  <br>
</div>
<div class="bars">
<div class="barBack"><div id="tBar"><i>Textbook</i></div></div>
<br>
<div class="barBack"><div id="sBar"><i>Study Guide</i></div></div>
<br>
<div class="barBack"><div id="rBar"><i>Reading Guide</i></div></div>
<br>
<div class="barBack"><div id="aBar"><i>Activities</i></div></div>
<br>
<div class="barBack"><div id="mBar"><i>Music Theory</i></div></div>
</div>
</body>
<style>
* {
    box-sizing: border-box;
}
img.a {
    vertical-align: -100%;
	image-rendering: auto;
	border-radius: 50%;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
}
body {
    font-family: Arial;
    padding: 10px;
    
  background-image: url("https://i.gifer.com/SPXn.gif");
  background-position: 10% 10%;
  background-size = 50%;
  background-repeat: repeat;
}

.header {
box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
margin-left: 70px;
	margin-right: 70px;
	margin-bottom: 40px;
    background-color: white;
    padding: 2px;
    text-align: center;
	 vertical-align: text-bottom;

}
.params {
box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
	//text-align: center;
	font-family: Monospace;
	font-size: 12pt;
    background-color: white;
    margin-top: 20px;
	padding: 20px 20px 20px 40px;
}
.bars {
box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
	margin-left: 20px;
	margin-right: 20px;

	height: 240px;
    background-color: white;
    padding: 30px;
    margin-top: 50px;

	text-align: center;
}

.barBack {
	
    width: 100%;
	height: 23px;
    background-color: #f1f1f1;
}
.barMid {
	
    width: 50%;
	height: 23px;
    background-color: gray;
}
#tBar {
	font-size: 14pt;
    width: 100%;
    height: 23px;
    background-color: #abd69f;
}
#sBar {
	font-size: 14pt;
    width: 100%;
    height: 23px;
    background-color: #abd69f;
}
#rBar {

    font-size: 14pt;
    width: 100%;
    height: 23px;
    background-color: #abd69f;
}
#aBar {
	font-size: 14pt;
    width: 100%;
    height: 23px;
    background-color: #abd69f;
}
#mBar {

    font-size: 14pt;
    width: 100%;
    height: 23px;
    background-color: #abd69f;
}
}
</style>
</head>
</html>
  <script>
  
  //Start Functions
  window.onbeforeunload = function()
  {
   SaveToCache();
  }
  
  function Load(){
	LoadFromCache();
	Apply();
	UptateTimes()
  }
  var elements;
  var dateElements;
  var dateTimes = [];
  
  var minutes = 60000;
  var hours = minutes * 60;
  var days = hours * 24;
  var weeks = days * 7;
  //Cache Functions
  function SaveToCache(){
  var empty = 0;
    elements = document.getElementsByClassName("text");
	for(var i=0; i < elements.length; i++) 
	{
		if(localStorage.getItem(elements[i].name) != elements[i].value){
		Now(i);
		localStorage.setItem(elements[i].name,elements[i].value);
		}
		if(elements[i].value =="") empty++;
	}
	dateElements = document.getElementsByClassName("date");
	
	
	if(empty == elements.length) localStorage.clear();
  }
  var defaultValues = [50,118,13,34,10,23,17,38,15,61]
  function LoadFromCache(){
  
    elements = document.getElementsByClassName("text");
	if(localStorage.length > 0){
		for(var i=0; i < elements.length; i++) 
		{
			elements[i].value = localStorage.getItem(elements[i].name);
		}
		dateElements = document.getElementsByClassName("date");
		for(var i=0; i < dateElements.length; i++) 
		{
			dateTimes[i] = localStorage.getItem(i+"d");	
		}
		}
		else{
		for(var i=0; i < elements.length; i++) 
		{
			elements[i].value = defaultValues[i];
		}
	}
  }
  
  //Functional Functions
  var names  = ["tBar","sBar","rBar","aBar","mBar"]
  function Apply(){
	elements = document.getElementsByClassName("text");
	
	var energy;
	for(var i=0; i<names.length; i++) 
	{
		energy = (elements[i*2].value/elements[(i*2)+1].value) *100;
		document.getElementById(names[i]).style.width = energy.toString()+'%';
	}
	SaveToCache();
  }
  
  function Now(a){
	dateElements = document.getElementsByClassName("date");
	dateTimes[a] = Date.now();
	localStorage.setItem(a+"d",dateTimes[a]);
	UptateTimes();
  }
  function Refresh()
  {
	location.reload();
  }
  
  function Clear()
  {
    localStorage.clear();
    elements = document.getElementsByClassName("text");
	for(var i=0; i<elements.length; i++) 
	{
		elements[i].value = "";
	}
  }
  var s_s = 0;
  var s_m = 0;
  var s_h = 0;
  var InProgress = false;
  var timer;
  var startTime = 0;
  function ToggleSession(){
	InProgress = !InProgress;
	console.log(InProgress);
	var button = document.getElementById("timerButton");
	timer = document.getElementById("sessionTimer");
	if(InProgress == true){ 
		s_s = 0;
		s_m = 0;
		s_h = 0;
		startTime = Date.now();
		button.value = "Stop"
		UpdateSessionTimer();
	}
	else{ 
		button.value = "Start"
	}
  }
 
  function UpdateSessionTimer(){
  if(InProgress == true){
	var now = Date.now();
	var dif  = now - startTime;
	s_h = Math.floor(dif / hours);
	s_m = Math.floor((dif-(hours * Math.floor(dif / hours)))  / minutes);
	s_s = Math.floor((dif-(minutes * Math.floor(dif / minutes)))  / 1000);
	timer.textContent = s_s+":"+s_m+":"+s_h;
	setTimeout('UpdateSessionTimer()',1000);
  }
  }
  function UptateTimes(){
	var now = Date.now();
	var dif  = 0;
	var m = 0;
	var h = 0;
	var d =0;
	var w =0;
	for(var i=0; i<dateTimes.length; i++) 
	{
		dif = now - dateTimes[i];
		w = Math.floor(dif / weeks);
		d = Math.floor((dif - (weeks * w)) / days);
		h = Math.floor((dif - (days * Math.floor(dif / days))) / hours);
		m = Math.floor((dif-(hours * Math.floor(dif / hours)))  / minutes);
		dateElements[i].textContent = m+"/"+ h+"/"+ d+ "/"+ w; 
	}
	setTimeout('UptateTimes()',60000);
  }
  
  //Animation Functions
  var pos = 10;
  var size =10;
  var time = 0;
  var difmult = 0;
  var velocity = 0;
  var str ="";
  
  window.onfocus = function() {
    MoveBackground();
  };

  function MoveBackground() {
	if(document.hasFocus()){
		time += .02;
		difmult = Math.sin(time*.2);
		velocity = Math.sin(time) * Math.sin(time);
		velocity += .4;
		size =50+ difmult*10;
		pos += velocity*2*difmult;
		str = (pos.toString()+'%')+" "+(pos.toString()+'%');
		document.getElementById("bod").style.backgroundPosition  = str;
		str = size.toString()+'%';
		document.getElementById("bod").style.backgroundSize  = str;
		setTimeout('MoveBackground()',16);
	}
}
 </script>